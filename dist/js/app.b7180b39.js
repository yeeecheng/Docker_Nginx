(function(){"use strict";var e={754:function(e,t,a){var s=a(144),i=a(5635),l=a(7772),r=function(){var e=this,t=e._self._c;return t(i.Z,[t(l.Z,[t("router-view",{staticClass:"overflow-y-auto absolute"})],1)],1)},o=[],n={name:"App",data:()=>({})},d=n,c=a(4429),u=(0,c.Z)(d,r,o,!1,null,null,null),m=u.exports,h=a(8345),p=a(9732),f=a(618),g=a(5223),v=a(4279),k=a(1087),x=a(4914),I=a(8639),b=a(8337),Z=a(5234),y=function(){var e=this,t=e._self._c;return t("Interface",[t("div",[t("div",{staticClass:"note-section background"},[t("div",{staticClass:"pa-3 d-flex justify-center align-center"},[t("h2",{staticClass:"ma-0"},[t("b",[e._v("天氣")])]),t(Z.Z)],1),t("div",{staticClass:"pa-3 d-flex justify-center align-center"},[t("img",{attrs:{src:a(5923)}})])]),t("div",{staticClass:"note-section background mb-12"},[t("div",{staticClass:"pa-3 d-flex justify-center align-center"},[t("h2",{staticClass:"ma-0"},[t("b",[e._v("通知")])]),t(Z.Z)],1),t(v.Z,{attrs:{"max-width":"600"},model:{value:e.dialogShow,callback:function(t){e.dialogShow=t},expression:"dialogShow"}},[t(f.Z,{staticClass:"mx-auto",attrs:{"max-width":"600px",outlined:""}},[t(g.EB,{staticClass:"text-h6"},[0==e.showedItem.icon?t(x.Z,{staticClass:"mr-4"},[e._v(" mdi-chat ")]):1==e.showedItem.icon?t(x.Z,{staticClass:"mr-4",attrs:{color:"yellow darken-2"}},[e._v(" mdi-alert-octagram ")]):e._e(),e._v(" "+e._s(e.showedItem.title)+" ")],1),t(g.ZB,[t("div",{staticClass:"text-overline"},[""!=e.showedItem.block_id?t("div",{staticClass:"d-flex"},[t(x.Z,[e._v("mdi-map-marker")]),e._v(" "+e._s(e.showedItem.smallBlock.block.name)+" - "+e._s(e.showedItem.smallBlock.name)+" ")],1):e._e(),t(Z.Z),e._v(" "+e._s(e.showedItem.createdAt)+" ")],1),e._v(" "+e._s(e.showedItem.comment)+" ")]),t(g.h7,[t(Z.Z),t(p.Z,{attrs:{color:"blue darken-1",text:"",to:{name:"SP",params:{smallBlockId:e.showedItem.smallBlockId}}}},[e._v(" 查看農場 ")]),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeItem}},[e._v(" 關閉 ")])],1)],1)],1),e._l(e.notes,(function(a,s){return t("div",[t(f.Z,{staticClass:"mx-auto",attrs:{flat:"","max-width":"600"},on:{click:function(t){return e.showItem(a)}}},[0!=s?t(k.Z,{staticClass:"ma-0"}):e._e(),t(I.Z,{attrs:{"three-line":""}},[0==a.icon?t(x.Z,{staticClass:"mr-4"},[e._v(" mdi-chat ")]):1==a.icon?t(x.Z,{staticClass:"mr-4",attrs:{color:"yellow darken-2"}},[e._v(" mdi-alert-octagram ")]):e._e(),t(b.km,[t("div",{staticClass:"text-overline"},[e._v(" "+e._s(a.createdAt)+" ")]),t(b.V9,{staticClass:"text-h6"},[e._v(" "+e._s(a.title)+" ")]),t(b.oZ,[e._v(" "+e._s(a.comment)+" ")])],1)],1)],1)],1)}))],2)])])},w=[],_=(a(7658),function(){var e=this,t=e._self._c;return e.$store.state.isUserLoggedIn?t("div",[e._t("default",(function(){return[e._v(" No slot content defined. ")]})),t("BottomNav")],2):t("div",{staticClass:"d-flex text-center justify-center mt-2"},[t("p",[e._v("You have not login in yet, click the "),t("router-link",{attrs:{to:{name:"loginView"},color:"primary"}},[e._v(" log in url ")])],1)])}),C=[],D=a(7421),$=function(){var e=this,t=e._self._c;return t(D.Z,{attrs:{app:"",grow:"",height:"64px",color:e.color},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[t(p.Z,{attrs:{color:"white",value:"home",height:"100%",to:{name:"homeView"}}},[t("span",[e._v("首頁")]),t(x.Z,[e._v("mdi-home")])],1),t(p.Z,{attrs:{color:"white",value:"plant",height:"100%",to:{name:"plantView"}}},[t("span",[e._v("作物")]),t(x.Z,[e._v("mdi-sprout")])],1),t(p.Z,{attrs:{color:"white",value:"account",height:"100%",to:{name:"accountView"}}},[t("span",[e._v("帳號")]),t(x.Z,[e._v("mdi-account")])],1)],1)},B=[],T={name:"BottomNav",data:()=>({value:"home",color:"green"})},O=T,A=(0,c.Z)(O,$,B,!1,null,null,null),j=A.exports,S={name:"Interface",components:{BottomNav:j},data(){return{}}},E=S,z=(0,c.Z)(E,_,C,!1,null,"c390acfe",null),R=z.exports,V=a(9669),L=a.n(V),q=a(629),P=a(4702);s.ZP.use(q.ZP);var H=new q.ZP.Store({plugins:[(0,P.Z)({storage:window.sessionStorage})],strict:!0,state:{accessToken:null,refreshToken:null,user:null,isUserLoggedIn:!1},getters:{},mutations:{setAccessToken(e,t){e.accessToken=t,e.isUserLoggedIn=!!t},setRefreshToken(e,t){e.refreshToken=t},setUser(e,t){e.user=t}},actions:{setAccessToken({commit:e},t){e("setAccessToken",t)},setRefreshToken({commit:e},t){e("setRefreshToken",t)},setUser({commit:e},t){e("setUser",t)}},modules:{}}),U=()=>L().create({baseURL:window.location.protocol+"//"+window.location.host+"/api/",headers:{Authorization:`Bearer ${H.state.accessToken}`}});const M="farms/";var F={index(){return U().get(`${M}allfarms`)},post(e){return U().post(`${M}addFarm`,e)},get(e){return U().get(`${M}${e}`)},put(e){return U().put(`${M}${e.id}`,e)},delete(e){return U().delete(`${M}${e.id}`)}};const K="users/";var N={register(e){return U().post(`${K}addUser`,e)},login(e){return U().post(`${K}login`,e)},logout(){return U().post(`${K}logout`)},index(){return U().get(`${K}allUsers`)},get(e){return U().get(`${K}${e}`)},put(e){return U().put(`${K}${e.id}`,e)},delete(e){return U().delete(`${K}${e.id}`)},refreshToken(e){return U().post(`${K}token`,e)}},Q={name:"HomeView",components:{Interface:R},data(){return{dialogAdd:!1,dialogShow:!1,editedIndex:-1,showedItem:{title:"",block_id:"",small_block_id:"",comment:""},defaultItem:{title:"",block_id:"",small_block_id:"",comment:""},notes:[],required:e=>!!e||"Required.",error:""}},created(){this.initialize()},methods:{async initialize(){this.fromLineWatch();try{let e=(await F.get(this.$store.state.user.farmId)).data;this.notes=e.notes}catch(e){if(console.log(e),403==e.response.status){console.log("refresh");let e=this.$store.state.refreshToken;if(null==e)this.$store.dispatch("setAccessToken",null),this.$store.dispatch("setRefreshToken",null),this.$store.dispatch("setUser",null),this.$router.push({name:"loginView"});else try{let t={userId:this.$store.state.user.id,token:e};const a=(await N.refreshToken(t)).data;this.$store.dispatch("setAccessToken",a.accessToken),this.$store.dispatch("setRefreshToken",a.refreshToken),window.location.reload()}catch(t){console.log(t)}}}},fromLineWatch(){const e=window.location.href;if(e.includes("?")){const t=e.split("?")[1].split("&");let a={id:t[1],farmId:t[0]};this.$store.dispatch("setAccessToken",t[2]),this.$store.dispatch("setRefreshToken",null),this.$store.dispatch("setUser",a),console.log("hi")}},showItem(e){this.showedItem=Object.assign({},e),this.dialogShow=!0},closeItem(){this.dialogShow=!1,this.$nextTick((()=>{this.showedItem=Object.assign({},this.defaultItem)}))}}},Y=Q,X=(0,c.Z)(Y,y,w,!1,null,"3cf0dc70",null),G=X.exports,W=a(7536),J=a(3333),ee=a(6878),te=a(9394),ae=a(1153),se=a(3),ie=function(){var e=this,t=e._self._c;return t("Interface",[t("div",[t("div",{staticClass:"d-flex justify-center align-center background"},[t(f.Z,{attrs:{flat:""}},[t(te.Z,{attrs:{"background-color":"white","show-arrows":""},model:{value:e.currentItem,callback:function(t){e.currentItem=t},expression:"currentItem"}},[t(se.Z,{attrs:{color:"teal lighten-3"}}),e._l(e.blockNames,(function(a){return t(J.Z,{attrs:{href:"#tab-"+a}},[e._v(" "+e._s(a)+" ")])}))],2)],1)],1),t("div",{staticClass:"background"},[t(ae.Z,{model:{value:e.currentItem,callback:function(t){e.currentItem=t},expression:"currentItem"}},e._l(e.blocks,(function(a,s){return t(ee.Z,{key:s,attrs:{value:"tab-"+a.name}},[t(f.Z,{attrs:{flat:""}},e._l(e.blocks[s].smallBlocks,(function(a){return t("div",[t(f.Z,{staticClass:"mx-auto",attrs:{flat:"",to:{name:"SP",params:{smallBlockId:a.id}}}},[t(I.Z,{attrs:{"three-line":""}},[t(x.Z,{staticClass:"ma-1 mr-3",attrs:{size:"80",color:""}},[e._v(" mdi-sprout ")]),t(b.km,{staticClass:"text-center"},[t(b.V9,{staticClass:"text-body-1 font-weight-light mb-1"},[t("b",[e._v(e._s(a.name))])]),t("div",{staticClass:"d-flex justify-center align-center"},[t("div",[t("div",{staticClass:"text-subtitle-1 ma-0 font-weight-light"},[e._v(" 溫度："+e._s(a.temperatureData)+"°C ")]),t("div",{staticClass:"text-subtitle-1 ma-0 font-weight-light"},[e._v(" 濕度："+e._s(a.humidityData)+"% ")])])])],1),t(W.Z,{staticClass:"text-center ma-2",attrs:{rotate:-90,size:60,width:5,value:a.healthData,color:a.healthData>85?"primary":"yellow darken-2"}},[e._v(" "+e._s(a.healthData)+"% ")])],1)],1)],1)})),0)],1)})),1)],1)])])},le=[],re={name:"PlantView",components:{Interface:R},data(){return{currentItem:"tab-",blockChoose:"",plants:[{name:"第一台攝影機",health:93,temperature:26,humidity:100},{name:"第二台攝影機",health:80,temperature:28,humidity:80},{name:"第三台攝影機",health:95,temperature:25.9,humidity:100},{name:"第四台攝影機",health:98,temperature:29.9,humidity:100},{name:"第五台攝影機",health:97,temperature:26.9,humidity:100}],blockNames:[],small_blocks:["west","east","south","north"],required:e=>!!e||"Required.",error:""}},computed:{},created(){this.initialize()},methods:{async initialize(){try{let e=(await F.get(this.$store.state.user.farmId)).data;this.blockNames=e.blocks.map((e=>e.name)),this.currentItem=`tab-${this.blockNames[0]}`,this.blocks=e.blocks,this.blocks.forEach((e=>{e.smallBlocks.forEach((e=>{e.healthData=e.healthDatas[0].value,e.humidityData=e.humidityDatas[0].value,e.temperatureData=e.temperatureDatas[0].value}))}))}catch(e){if(403==e.response.status){let e=this.$store.state.refreshToken;if(null==e)this.$store.dispatch("setAccessToken",null),this.$store.dispatch("setRefreshToken",null),this.$store.dispatch("setUser",null),this.$router.push({name:"loginView"});else try{let t={userId:this.$store.state.user.id,token:e};const a=(await N.refreshToken(t)).data;this.$store.dispatch("setAccessToken",a.accessToken),this.$store.dispatch("setRefreshToken",a.refreshToken),window.location.reload()}catch(t){console.log(t)}}}}}},oe=re,ne=(0,c.Z)(oe,ie,le,!1,null,"3274c5b0",null),de=ne.exports,ce=a(4437),ue=a(6035),me=a(3763),he=a(5160),pe=a(5294),fe=a(1446),ge=a(1234),ve=function(){var e=this,t=e._self._c;return t("Interface",[t("div",{staticClass:"background"},[t("div",{staticClass:"pa-3 d-flex justify-center align-center"},[t("h2",{staticClass:"ma-0"},[t("b",[e._v(e._s(e.farm))])])])]),t("div",{staticClass:"background"},[t(I.Z,{attrs:{"two-line":""}},[t(he.Z,{attrs:{size:"80"}},[t(me.Z,{attrs:{src:a(385)}})],1),t(b.km,[t(b.V9,{staticClass:"text-h6"},[e._v(" "+e._s(e.user.name)+" ")]),t(b.oZ,[e._v(" "+e._s(e.user.permission)+" ")])],1)],1),t(pe.Z,{staticClass:"ma-2"},[t(ce.Z,[t(v.Z,{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(p.Z,e._g(e._b({staticClass:"mb-2",attrs:{width:"100%",color:"grey lighten-1",dark:""}},"v-btn",s,!1),a),[e._v(" 編輯使用者 ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(f.Z,[t(g.EB,[t("span",{staticClass:"text-h5"},[e._v("編輯使用者")])]),t(g.ZB,[t(ue.Z,[t(pe.Z,[t(fe.Z,{attrs:{label:"使用者名稱",rules:[e.required]},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}}),t(fe.Z,{attrs:{label:"使用者權限",rules:[e.required]},model:{value:e.editedItem.permission,callback:function(t){e.$set(e.editedItem,"permission",t)},expression:"editedItem.permission"}}),t(fe.Z,{attrs:{label:"農場健康度警示",rules:[e.required]},model:{value:e.warmingValue,callback:function(t){e.warmingValue=t},expression:"warmingValue"}})],1)],1)],1),t(g.h7,[t(Z.Z),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" 取消 ")]),t(p.Z,{attrs:{color:"blue darken-1",text:"",disabled:""==e.editedItem.name},on:{click:e.save}},[e._v(" 儲存 ")])],1)],1)],1)],1),t(ce.Z,[t(p.Z,{attrs:{width:"100%",color:"primary"},on:{click:e.logout}},[e._v(" 登出 ")])],1)],1)],1),t("div",{staticClass:"background"},[t("div",{staticClass:"pa-3 d-flex justify-center align-center"},[t("h2",{staticClass:"ma-0"},[t("b",[e._v("管理使用者")])]),t(Z.Z)],1),e._l(e.users,(function(s,i){return t("div",[0!=i?t(k.Z,{staticClass:"ma-0"}):e._e(),t(f.Z,{staticClass:"mx-auto",attrs:{flat:""}},[t(I.Z,{attrs:{"two-line":""}},[t(he.Z,{attrs:{size:"80"}},[t(me.Z,{attrs:{src:a(385)}})],1),t(b.km,[t(b.V9,{staticClass:"text-h6"},[e._v(" "+e._s(s.name)+" ")]),t(b.oZ,[e._v(" "+e._s(s.permission)+" ")])],1)],1)],1)],1)}))],2),t("div",{staticClass:"background mb-12"},[t("div",{staticClass:"pa-3 d-flex justify-center align-center"},[t("h2",{staticClass:"ma-0"},[t("b",[e._v("回報問題")])]),t(Z.Z)],1),t("div",{staticClass:"pa-3 d-flex justify-center align-center"},[t(ge.Z,{attrs:{filled:"","auto-grow":"",label:"輸入您遇到的問題",rows:"4","row-height":"30",shaped:""},model:{value:e.email.message,callback:function(t){e.$set(e.email,"message",t)},expression:"email.message"}})],1),t("div",{staticClass:"mr-3 mb-3 d-flex justify-center align-center"},[t(Z.Z),t(p.Z,{attrs:{color:"primary",depressed:""},on:{click:e.sendEmail}},[e._v(" 傳送 ")])],1)])])},ke=[],xe=a(9101),Ie={name:"AccountView",components:{Interface:R},data(){return{warmingValue:null,required:e=>!!e||"Required.",user:{},users:[],model:"",farm:"",editedItem:{name:"",permission:""},dialog:!1,email:{to_name:"Smart Farm",message:""}}},watch:{dialog(e){e||this.close()}},created(){this.initialize()},methods:{async initialize(){try{const e=this.$store.state.user.id,t=await N.get(e);this.user=t.data,null!=this.user.farmId&&(this.farm=this.user.farm.name,this.warmingValue=this.user.farm.warmingValue,this.users=this.user.farm.users.filter((t=>t.id!==e)),this.users=this.user.farm.users.filter((e=>"sensor"!==e.permission))),this.editedItem=this.user}catch(e){if(403==e.response.status){let e=this.$store.state.refreshToken;if(null==e)this.$store.dispatch("setAccessToken",null),this.$store.dispatch("setRefreshToken",null),this.$store.dispatch("setUser",null),this.$router.push({name:"loginView"});else try{let t={userId:this.$store.state.user.id,token:e};const a=(await N.refreshToken(t)).data;this.$store.dispatch("setAccessToken",a.accessToken),this.$store.dispatch("setRefreshToken",a.refreshToken),window.location.reload()}catch(t){console.log(t)}}}},async logout(){N.logout(),this.$store.dispatch("setAccessToken",null),this.$store.dispatch("setRefreshToken",null),this.$store.dispatch("setUser",null),this.$router.push({name:"loginView"})},close(){this.dialog=!1},async save(){this.$loading(!0);try{await N.put(this.editedItem);let e=this.user.farm;e.warmingValue=parseInt(this.warmingValue),await F.put(e),window.location.reload()}catch(e){console.log(e)}this.close(),this.$loading(!1)},sendEmail(){try{xe.ZP.send("service_f4h41tk","template_uau0dse",{to_name:this.email.to_name,message:this.email.message},"rsvKD2Tp_GBu2M59v")}catch(e){console.log(e)}this.email.to_name="Smart Farm",this.email.message=""}}},be=Ie,Ze=(0,c.Z)(be,ve,ke,!1,null,"5587312a",null),ye=Ze.exports,we=function(){var e=this,t=e._self._c;return t("div",[t(f.Z,{staticClass:"mx-auto",attrs:{"max-width":"344",outlined:""}},[t(me.Z,{attrs:{height:"250",src:"https://cdn.vuetifyjs.com/images/cards/cooking.png"}}),t(g.ZB,[t("div",{staticClass:"text-overline d-flex"},[e._v(" "+e._s(e.note.date)+" "),t(Z.Z),t(x.Z,[e._v("mdi-map-marker")]),e._v(" "+e._s(e.note.block_id)+" - "+e._s(e.note.small_block_id)+" ")],1)]),t(g.EB,{staticClass:"text-h6"},[e._v(" "+e._s(e.note.title)+" ")]),t(g.ZB,[e._v(" "+e._s(e.note.comment)+" ")]),t(g.h7,[t(Z.Z),t(p.Z,{attrs:{color:"deep-purple lighten-2",text:""},on:{click:e.reserve}},[t(x.Z,[e._v("mdi-pencil")]),e._v(" Revise ")],1)],1)],1)],1)},_e=[],Ce={name:"HomeView",components:{},data(){return{note:{date:"May 24 5:43pm",title:"Have A Nice Day in Farm",block_id:"farm1",small_block_id:"west",comment:"Excellent harvest the grapes have a rich flavor and aromaa rich flavor and aromaExcellent harvest the grapes have a rich flavor and aromaa rich flavor and aroma",writer:"Sunny Chuang"}}}},De=Ce,$e=(0,c.Z)(De,we,_e,!1,null,"fe4e2aa8",null),Be=$e.exports,Te=function(){var e=this,t=e._self._c;return t("div",{staticClass:"fill-height d-flex justify-center align-center"},[t(f.Z,{staticClass:"ma-5 background",attrs:{flat:""}},[t(g.EB,{staticClass:"justify-center"},[t(me.Z,{attrs:{"max-height":"100","max-width":"150",src:a(6949)}})],1),t(te.Z,{staticClass:"mb-2",attrs:{grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(J.Z,{attrs:{href:"#login"}},[e._v(" 登入 ")]),t(J.Z,{attrs:{href:"#signup"}},[e._v(" 註冊 ")])],1),t(ae.Z,{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(ee.Z,{attrs:{value:"login"}},[t(f.Z,{attrs:{color:"basil",flat:""}},[t(g.ZB,[t(fe.Z,{attrs:{label:"帳號",outlined:""},model:{value:e.account,callback:function(t){e.account=t},expression:"account"}}),t(fe.Z,{attrs:{label:"密碼",type:"password",outlined:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e.error_login?t("div",{staticClass:"danger-alert"},[e._v(e._s(e.error_login))]):e._e(),t("div",{staticClass:"d-flex"},[t(Z.Z),t(p.Z,{staticClass:"pa-5",attrs:{dark:"",color:"primary"},on:{click:e.login}},[e._v(" 登入 ")])],1)],1)],1)],1),t(ee.Z,{attrs:{value:"signup"}},[t(f.Z,{attrs:{color:"basil",flat:""}},[t(g.ZB,[t(fe.Z,{staticClass:"mt-2",attrs:{label:"帳號",outlined:""},model:{value:e.account,callback:function(t){e.account=t},expression:"account"}}),t(fe.Z,{attrs:{label:"密碼",outlined:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),t(fe.Z,{staticClass:"mt-2",attrs:{label:"名字",outlined:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t(fe.Z,{staticClass:"mt-2",attrs:{label:"農場編號",outlined:""},model:{value:e.farmId,callback:function(t){e.farmId=t},expression:"farmId"}}),e.success_register?t("div",{staticClass:"success-alert"},[e._v(e._s(e.success_register))]):e._e(),e.error_register?t("div",{staticClass:"danger-alert"},[e._v(e._s(e.error_register))]):e._e(),t("div",{staticClass:"d-flex"},[t(Z.Z),t(p.Z,{staticClass:"pa-5",attrs:{dark:"",color:"primary"},on:{click:e.register}},[e._v(" 註冊 ")])],1)],1)],1)],1)],1)],1)],1)},Oe=[],Ae={name:"LoginView",components:{},setup(){},data(){return{tab:"login",account:"",password:"",farmId:"",name:"",error_login:null,error_register:null,success_register:null}},created(){this.initialize()},methods:{initialize(){this.$store.state.isUserLoggedIn&&this.$router.push({name:"homeView"})},async register(){this.success_register="",this.error_register="";try{const e=await N.register({account:this.account,password:this.password,name:this.name,farmId:this.farmId});this.success_register=e.data.success}catch(e){this.error_register=e.response.data.error,console.log(e)}},async login(){const e=window.location.href;try{const t=await N.login({account:this.account,password:this.password});if(e.includes("?")){const a=e.split("?")[1].split("&")[0].split("=")[1];location.assign("https://access.line.me/dialog/bot/accountLink?linkToken="+a+"&nonce="+t.data.user.id+"|"+t.data.accessToken)}else this.$store.dispatch("setAccessToken",t.data.accessToken),this.$store.dispatch("setRefreshToken",t.data.refreshToken),this.$store.dispatch("setUser",t.data.user),this.$router.push({name:"homeView"})}catch(t){this.error_login=t.response.data.error,console.log(t)}}}},je=Ae,Se=(0,c.Z)(je,Te,Oe,!1,null,"6ce40231",null),Ee=Se.exports,ze=function(){var e=this,t=e._self._c;return t("div",{staticClass:"fill-height d-flex justify-center align-center"},[t(f.Z,{staticClass:"ma-5 background",attrs:{flat:""}},[t(g.EB,{staticClass:"justify-center"},[t(me.Z,{attrs:{"max-height":"100","max-width":"150",src:a(6949)}})],1),t(g.ZB,{staticClass:"text-center"},[e._v(" Smartfarm can help you manage your farm! ")]),t("div",{staticClass:"d-flex justify-center"},[t(p.Z,{attrs:{color:"primary",to:{name:"loginView"}}},[e._v(" Start Smartfarm! ")])],1)],1)],1)},Re=[],Ve={name:"IndexView",created(){this.initialize()},methods:{initialize(){this.$store.state.isUserLoggedIn&&this.$router.push({name:"homeView"})}}},Le=Ve,qe=(0,c.Z)(Le,ze,Re,!1,null,"31e5df35",null),Pe=qe.exports,He=a(373),Ue=a(5201),Me=a(2370),Fe=function(){var e=this,t=e._self._c;return t("Interface",[t("div",[t(He.Z,{attrs:{absolute:"",color:"white"}},[t(p.Z,{staticClass:"mr-3",attrs:{width:"40",height:"40","min-width":"0",text:"",to:{name:"plantView"}}},[t(x.Z,[e._v("mdi-close-thick")])],1),t(Me.qW,[e._v(e._s(e.plant.name))]),t(Z.Z)],1),t(Ue.Z,{staticClass:"overflow-y-auto background"},[t("img",{attrs:{"data-v-2b2a7bad":"",id:"video",width:"100%",src:a(8041)}}),t(pe.Z,{staticClass:"d-flex justify-center align-center ma-4"},[t(ce.Z,{staticClass:"d-flex justify-center align-center"},[t("div",{staticClass:"text-center"},[t(W.Z,{attrs:{rotate:-90,size:70,width:7,value:e.nowHealth,color:e.nowHealth>85?"primary":"yellow darken-2"}},[e._v(" "+e._s(e.nowHealth)+"% ")]),t("p",{staticClass:"primary--text overline"},[e._v(" 健康度 ")])],1)]),t(ce.Z,{staticClass:"d-flex justify-center align-center"},[t("div",{staticClass:"text-center"},[t(W.Z,{attrs:{rotate:-90,size:70,width:7,value:e.nowTemperature,color:"primary"}},[e._v(" "+e._s(e.nowTemperature)+"°C ")]),t("p",{staticClass:"primary--text overline"},[e._v(" 溫度 ")])],1)]),t(ce.Z,{staticClass:"d-flex justify-center align-center"},[t("div",{staticClass:"text-center"},[t(W.Z,{attrs:{rotate:-90,size:70,width:7,value:e.nowHumidity,color:"primary"}},[e._v(" "+e._s(e.nowHumidity)+"% ")]),t("p",{staticClass:"primary--text overline"},[e._v(" 濕度 ")])],1)])],1),t(k.Z),t("Apexchart",{attrs:{type:"line",height:"350",options:e.chartOptions,series:e.series}})],1)],1)])},Ke=[],Ne=a(7166),Qe=a.n(Ne);const Ye="smallblocks/";var Xe={index(){return U().get(`${Ye}allSmallBlocks`)},post(e){return U().post(`${Ye}addSmallBlock`,e)},get(e){return U().get(`${Ye}${e}`)},getNewest(e){return U().get(`${Ye}new/${e}`)},put(e){return U().put(`${Ye}${e.id}`,e)},delete(e){return U().delete(`${Ye}${e.id}`)}},Ge={name:"SP",components:{Interface:R,Apexchart:Qe()},data(){return{series:[{name:"健康度",data:[]},{name:"溫度",data:[]},{name:"濕度",data:[]}],chartOptions:{chart:{height:350,type:"line",zoom:{enabled:!1}},colors:["#388E3C","#FFA000","#039BE5"],dataLabels:{enabled:!1},stroke:{width:[5,5,5],curve:"straight",dashArray:[0,0,0]},title:{text:"感測器曲線圖",align:"center"},legend:{tooltipHoverFormatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex][t.dataPointIndex]}},markers:{size:0},xaxis:{categories:[]},yaxis:[{max:100,axisTicks:{show:!0},axisBorder:{show:!0,color:"#00897B"},labels:{style:{colors:"#00897B"}},title:{text:"健康度/濕度(%)",style:{color:"#00897B"}}},{opposite:!0,axisTicks:{show:!0},axisBorder:{show:!0,color:"#FFA000"},labels:{style:{colors:"#FFA000"}},title:{text:"溫度(°C)",style:{color:"#FFA000"}}},{show:!1,max:100,min:e=>e,opposite:!0,axisTicks:{show:!0},axisBorder:{show:!0,color:"#039BE5"},labels:{style:{colors:"#039BE5"}},title:{text:"濕度",style:{color:"#039BE5"}}}],tooltip:{y:[{title:{formatter:function(e){return e+"(%)"}}},{title:{formatter:function(e){return e+"(°C)"}}},{title:{formatter:function(e){return e+"(%)"}}}]},grid:{borderColor:"#f1f1f1"}},smallBlockId:null,plant:{},required:e=>!!e||"Required.",error:""}},created(){this.$loading(!0),this.initialize(),this.$loading(!1)},computed:{nowHealth(){return this.plant.healthDatas[this.plant.healthDatas.length-1].value},nowHumidity(){return this.plant.humidityDatas[this.plant.humidityDatas.length-1].value},nowTemperature(){return this.plant.temperatureDatas[this.plant.temperatureDatas.length-1].value}},methods:{async initialize(){this.fromLineWatch(),this.smallBlockId=this.$store.state.route.params.smallBlockId;try{this.plant=(await Xe.getNewest(this.smallBlockId)).data,this.series[1].data=this.plant.temperatureDatas.map((e=>e.value)),this.series[2].data=this.plant.humidityDatas.map((e=>e.value));let e=[];this.plant.healthDatas.forEach((t=>{-1==t.value?e.push(null):e.push(t.value)})),this.series[0].data=e,this.chartOptions.yaxis[1].min=Math.min(...this.series[1]["data"]);let t=Math.min(...this.series[0]["data"]),a=Math.min(...this.series[2]["data"]);t<a?(this.chartOptions.yaxis[0].min=t,this.chartOptions.yaxis[2].min=t):(this.chartOptions.yaxis[0].min=a,this.chartOptions.yaxis[2].min=a);let s=[],i=this.plant.healthDatas[0].createdAt;this.plant.healthDatas.forEach((e=>{let t=new Date(i).getDate(),a=new Date(e.createdAt).getDate();t!=a&&s.push(e.createdAt.substring(10,16)),s.push(e.createdAt.substring(10,16)),i=e.createdAt})),this.chartOptions.xaxis.categories=s}catch(e){if(403==e.response.status){let e=this.$store.state.refreshToken;if(null==e)this.$store.dispatch("setAccessToken",null),this.$store.dispatch("setRefreshToken",null),this.$store.dispatch("setUser",null),this.$router.push({name:"loginView"});else try{let t={userId:this.$store.state.user.id,token:e};const a=(await N.refreshToken(t)).data;this.$store.dispatch("setAccessToken",a.accessToken),this.$store.dispatch("setRefreshToken",a.refreshToken),window.location.reload()}catch(t){console.log(t)}}}},fromLineWatch(){const e=window.location.href;if(e.includes("?")){const t=e.split("?")[1].split("&");let a={id:t[1],farmId:t[0]};this.$store.dispatch("setAccessToken",t[2]),this.$store.dispatch("setRefreshToken",null),this.$store.dispatch("setUser",a)}},dateString(e){return e.substring(10,16)}}},We=Ge,Je=(0,c.Z)(We,Fe,Ke,!1,null,"230fff51",null),et=Je.exports,tt=function(){var e=this;e._self._c;return e._m(0)},at=[function(){var e=this,t=e._self._c;return t("div",[t("img",{attrs:{"data-v-2b2a7bad":"",id:"video",width:"100%",src:"data:image/png;base64,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"}}),t("img",{attrs:{"data-v-2b2a7bad":"",id:"video",width:"100%",src:"http://mjpeg.sanford.io/count.mjpeg"}}),t("img",{attrs:{"data-v-2b2a7bad":"",width:"100%",src:"http://219.86.140.31:8903/video.mjpg"}})])}],st={name:"SP",components:{Interface:R,apexchart:Qe()},data(){return{series:[{name:"溫度",data:[26,25.9,26,25.9,25.8,26.9,29.9,27,34.4,38.4]},{name:"濕度",data:[100,100,100,100,100,95,93.9,68,76,82]}],chartOptions:{chart:{height:350,type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:[5,7,5],curve:"straight",dashArray:[0,8,5]},title:{text:"感測器曲線圖",align:"center"},legend:{tooltipHoverFormatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex][t.dataPointIndex]}},markers:{size:0,hover:{sizeOffset:6}},xaxis:{categories:["01 Sep","02 Sep","03 Sep","04 Sep","05 Sep","06 Sep","07 Sep","08 Sep","09 Sep","10 Sep"]},tooltip:{y:[{title:{formatter:function(e){return e+" (°C)"}}},{title:{formatter:function(e){return e}}}]},grid:{borderColor:"#f1f1f1"}},blockChoose:"",plant:{name:"第二台攝影機",health:80,temperature:28,humidty:80,live_stream:"https://www.youtube.com/embed/dQw4w9WgXcQ"},required:e=>!!e||"Required.",error:"",value:[423,446,675,510,590,610,760]}},methods:{}},it=st,lt=(0,c.Z)(it,tt,at,!1,null,"0ebe6e2d",null),rt=lt.exports,ot=a(4899),nt=a(2015),dt=function(){var e=this,t=e._self._c;return t(f.Z,[t(ot.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.farms,"items-per-page":-1,"item-key":"id",search:e.search,"custom-filter":e.filterOnlyCapsText},scopedSlots:e._u([{key:"top",fn:function(){return[t(nt.Z,{attrs:{flat:""}},[t(Me.qW,[e._v("All Farm Data")]),t(k.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(Z.Z),t(v.Z,{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(p.Z,e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",s,!1),a),[e._v(" Add new farm ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(f.Z,[t(g.EB,[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),t(g.ZB,[t(ue.Z,[t(pe.Z,[t(fe.Z,{attrs:{label:"farm name",rules:[e.required]},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),t(pe.Z,[t(fe.Z,{attrs:{label:"farm key",rules:[e.required]},model:{value:e.editedItem.key,callback:function(t){e.$set(e.editedItem,"key",t)},expression:"editedItem.key"}})],1),t(pe.Z,[t(fe.Z,{attrs:{label:"warming value"},model:{value:e.editedItem.warmingValue,callback:function(t){e.$set(e.editedItem,"warmingValue",t)},expression:"editedItem.warmingValue"}})],1)],1)],1),t(g.h7,[t(Z.Z),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" cancel ")]),t(p.Z,{attrs:{color:"blue darken-1",text:"",disabled:""==e.editedItem.name},on:{click:e.save}},[e._v(" save ")])],1)],1)],1),t(v.Z,{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(f.Z,[t(g.EB,{staticClass:"text-h5"},[e._v("Are you sure to delete this farm")]),t(g.h7,[t(Z.Z),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("cancel")]),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("sure")]),t(Z.Z)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function({item:a}){return[t(x.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-pencil ")]),t(x.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" mdi-delete ")]),t(x.Z,{attrs:{small:""},on:{click:function(t){return e.navigateTo({name:"manageDetail",params:{farmId:a.id}})}}},[e._v(" mdi-eye ")])]}},{key:"no-data",fn:function(){return[t("p",{staticClass:"ma-3"},[e._v("You haven't add any data")]),t("p",{staticClass:"ma-3"},[e._v("If you add, click the reset button")]),t(p.Z,{staticClass:"mb-3",attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}])}),t("ManageUser")],1)},ct=[],ut=function(){var e=this,t=e._self._c;return t(f.Z,[t(ot.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.users,"items-per-page":-1,"item-key":"id",search:e.search,"custom-filter":e.filterOnlyCapsText},scopedSlots:e._u([{key:"top",fn:function(){return[t(nt.Z,{attrs:{flat:""}},[t(Me.qW,[e._v("All User Data")]),t(k.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(Z.Z),t(v.Z,{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(p.Z,e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",s,!1),a),[e._v(" Add user ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(f.Z,[t(g.EB,[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),t(g.ZB,[t(ue.Z,[t(pe.Z,[t(fe.Z,{attrs:{label:"user name",rules:[e.required]},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),t(pe.Z,[t(fe.Z,{attrs:{label:"user account",rules:[e.required]},model:{value:e.editedItem.account,callback:function(t){e.$set(e.editedItem,"account",t)},expression:"editedItem.account"}})],1),t(pe.Z,[t(fe.Z,{attrs:{label:"user permission"},model:{value:e.editedItem.permission,callback:function(t){e.$set(e.editedItem,"permission",t)},expression:"editedItem.permission"}})],1),t(pe.Z,[t(fe.Z,{attrs:{label:"user LINE_ID"},model:{value:e.editedItem.LINE_ID,callback:function(t){e.$set(e.editedItem,"LINE_ID",t)},expression:"editedItem.LINE_ID"}})],1),t(pe.Z,[t(fe.Z,{attrs:{label:"farm id"},model:{value:e.editedItem.farmId,callback:function(t){e.$set(e.editedItem,"farmId",t)},expression:"editedItem.farmId"}})],1),t(pe.Z,[t(fe.Z,{attrs:{label:"Small Block Id Showing on Line"},model:{value:e.editedItem.lineSmallBlockId,callback:function(t){e.$set(e.editedItem,"lineSmallBlockId",t)},expression:"editedItem.lineSmallBlockId"}})],1),e.error?t("div",{staticClass:"danger-alert"},[e._v(e._s(e.error))]):e._e()],1)],1),t(g.h7,[t(Z.Z),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" cancel ")]),t(p.Z,{attrs:{color:"blue darken-1",text:"",disabled:""==e.editedItem.name},on:{click:e.save}},[e._v(" save ")])],1)],1)],1),t(v.Z,{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(f.Z,[t(g.EB,{staticClass:"text-h5"},[e._v("Are you sure to delete this user")]),t(g.h7,[t(Z.Z),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("cancel")]),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("sure")]),t(Z.Z)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function({item:a}){return[t(x.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-pencil ")]),t(x.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[t("p",{staticClass:"ma-3"},[e._v("You haven't add any data")]),t("p",{staticClass:"ma-3"},[e._v("If you add, click the reset button")]),t(p.Z,{staticClass:"mb-3",attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}])})],1)},mt=[],ht={data:()=>({error:null,search:"",required:e=>!!e||"Required.",dialog:!1,dialogDelete:!1,headers:[{text:"id",align:"start",sortable:!1,value:"id"},{text:"name",align:"start",sortable:!1,value:"name"},{text:"account",align:"start",sortable:!1,value:"account"},{text:"password",align:"start",sortable:!1,value:"password"},{text:"LINE_ID",align:"start",sortable:!1,value:"LINE_ID"},{text:"farmId",align:"start",sortable:!1,value:"farmId"},{text:"permission",align:"start",sortable:!1,value:"permission"},{text:"lineSmallBlockId",align:"start",sortable:!1,value:"lineSmallBlockId"},{text:"func",value:"actions",sortable:!1}],users:[],editedIndex:-1,editedItem:{name:"",account:"",password:"",farmId:"",LINE_ID:"",permission:"",lineSmallBlockId:""},defaultItem:{name:"",account:"",password:"",farmId:"",LINE_ID:"",permission:"",lineSmallBlockId:""}}),computed:{formTitle(){return-1===this.editedIndex?"Add user":"Edit user"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.$loading(!0),this.initialize(),this.$loading(!1)},methods:{filterOnlyCapsText(e,t,a){return null!=e&&null!=t&&"string"===typeof e&&-1!==e.toString().indexOf(t)},navigateTo(e){this.$router.push(e)},async initialize(){this.users=(await N.index()).data},editItem(e){this.editedIndex=this.users.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.editedIndex=this.users.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},async deleteItemConfirm(){try{await N["delete"](this.editedItem),this.initialize(),this.closeDelete()}catch(e){console.log(e)}},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},async save(){if(this.$loading(!0),this.editedIndex>-1)try{await N.put(this.editedItem),this.initialize()}catch(e){console.log(e)}else try{await N.register(this.editedItem),this.initialize()}catch(e){this.error=e.response.data.error,console.log(e)}this.close(),this.$loading(!1)}}},pt=ht,ft=(0,c.Z)(pt,ut,mt,!1,null,null,null),gt=ft.exports,vt={components:{ManageUser:gt},data:()=>({search:"",required:e=>!!e||"Required.",dialog:!1,dialogDelete:!1,headers:[{text:"id",align:"start",sortable:!1,value:"id"},{text:"name",align:"start",sortable:!1,value:"name"},{text:"key",align:"start",sortable:!1,value:"key"},{text:"warmingValue",align:"start",sortable:!1,value:"warmingValue"},{text:"func",value:"actions",sortable:!1}],farms:[],editedIndex:-1,editedItem:{name:"",key:"",warmingValue:null},defaultItem:{name:"",key:"",warmingValue:null}}),computed:{formTitle(){return-1===this.editedIndex?"Add new farm":"Edit farm"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.$loading(!0),this.initialize(),this.$loading(!1)},methods:{filterOnlyCapsText(e,t,a){return null!=e&&null!=t&&"string"===typeof e&&-1!==e.toString().indexOf(t)},navigateTo(e){this.$router.push(e)},async initialize(){this.farms=(await F.index()).data},editItem(e){this.editedIndex=this.farms.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.editedIndex=this.farms.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},async deleteItemConfirm(){this.$loading(!0);try{await F["delete"](this.editedItem),this.closeDelete(),this.initialize()}catch(e){console.log(e)}this.initialize(),this.$loading(!1)},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},async save(){if(this.$loading(!0),this.editedIndex>-1)try{await F.put(this.editedItem),this.initialize()}catch(e){console.log(e)}else try{await F.post(this.editedItem),this.initialize()}catch(e){console.log(e)}this.close(),this.$loading(!1)}}},kt=vt,xt=(0,c.Z)(kt,dt,ct,!1,null,null,null),It=xt.exports,bt=function(){var e=this,t=e._self._c;return t(f.Z,[t(p.Z,{attrs:{color:"primary",text:"",to:{name:"manage"}}},[e._v(" manage ")]),t("ManageBlock",{ref:"manageBlock"}),e._l(e.blocks,(function(e){return t("div",[t("ManageSmallBlock",{ref:t=>{t.blockId=e.id,t.block=e.name,t.smallBlocks=e.smallBlocks},refInFor:!0})],1)})),t("ManageSensor")],2)},Zt=[],yt=function(){var e=this,t=e._self._c;return t(f.Z,[t(ot.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.blocks,"items-per-page":-1,"item-key":"id",search:e.search,"custom-filter":e.filterOnlyCapsText},scopedSlots:e._u([{key:"top",fn:function(){return[t(nt.Z,{attrs:{flat:""}},[t(Me.qW,[e._v("All Block Data")]),t(k.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(Z.Z),t(v.Z,{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(p.Z,e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",s,!1),a),[e._v(" Add new block ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(f.Z,[t(g.EB,[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),t(g.ZB,[t(ue.Z,[t(pe.Z,[t(fe.Z,{attrs:{label:"block name",rules:[e.required]},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),t(pe.Z,[t(fe.Z,{attrs:{label:"vegetable",rules:[e.required]},model:{value:e.editedItem.vegetable,callback:function(t){e.$set(e.editedItem,"vegetable",t)},expression:"editedItem.vegetable"}})],1)],1)],1),t(g.h7,[t(Z.Z),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" cancel ")]),t(p.Z,{attrs:{color:"blue darken-1",text:"",disabled:""==e.editedItem.name},on:{click:e.save}},[e._v(" save ")])],1)],1)],1),t(v.Z,{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(f.Z,[t(g.EB,{staticClass:"text-h5"},[e._v("Are you sure to delete this block")]),t(g.h7,[t(Z.Z),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("cancel")]),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("sure")]),t(Z.Z)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function({item:a}){return[t(x.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-pencil ")]),t(x.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[t("p",{staticClass:"ma-3"},[e._v("You haven't add any data")]),t("p",{staticClass:"ma-3"},[e._v("If you add, click the reset button")]),t(p.Z,{staticClass:"mb-3",attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}])})],1)},wt=[];const _t="blocks/";var Ct={index(){return U().get(`${_t}allBlocks`)},post(e){return U().post(`${_t}addBlock`,e)},get(e){return U().get(`${_t}${e}`)},put(e){return U().put(`${_t}${e.id}`,e)},delete(e){return U().delete(`${_t}${e.id}`)}},Dt={data:()=>({farmId:0,search:"",required:e=>!!e||"Required.",dialog:!1,dialogDelete:!1,headers:[{text:"id",align:"start",sortable:!1,value:"id"},{text:"name",align:"start",sortable:!1,value:"name"},{text:"vegetable",align:"start",sortable:!1,value:"vegetable"},{text:"func",value:"actions",sortable:!1}],blocks:[],editedIndex:-1,editedItem:{name:"",vegetable:""},defaultItem:{name:"",vegetable:""}}),computed:{formTitle(){return-1===this.editedIndex?"Add block":"Edit block"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.$loading(!0),this.initialize(),this.$loading(!1)},methods:{filterOnlyCapsText(e,t,a){return null!=e&&null!=t&&"string"===typeof e&&-1!==e.toString().indexOf(t)},navigateTo(e){this.$router.push(e)},async initialize(){},editItem(e){this.editedIndex=this.blocks.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.editedIndex=this.blocks.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},async deleteItemConfirm(){this.$loading(!0);try{await Ct["delete"](this.editedItem),this.closeDelete(),window.location.reload()}catch(e){console.log(e)}this.initialize(),this.$loading(!1)},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},async save(){if(this.$loading(!0),this.editedIndex>-1)try{await Ct.put(this.editedItem),window.location.reload()}catch(e){console.log(e)}else try{let e=this.editedItem;e.farmId=this.farmId;await Ct.post(e);window.location.reload()}catch(e){console.log(e)}this.close(),this.$loading(!1)}}},$t=Dt,Bt=(0,c.Z)($t,yt,wt,!1,null,null,null),Tt=Bt.exports,Ot=function(){var e=this,t=e._self._c;return t(f.Z,[t(ot.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.smallBlocks,"items-per-page":-1,"item-key":"id",search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[t(nt.Z,{attrs:{flat:""}},[t(Me.qW,[e._v("Small Block In "+e._s(e.block)+" Data")]),t(k.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(Z.Z),t(v.Z,{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(p.Z,e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",s,!1),a),[e._v(" Add new block ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(f.Z,[t(g.EB,[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),t(g.ZB,[t(ue.Z,[t(pe.Z,[t(fe.Z,{attrs:{label:"small block name",rules:[e.required]},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1)],1)],1),t(g.h7,[t(Z.Z),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" cancel ")]),t(p.Z,{attrs:{color:"blue darken-1",text:"",disabled:""==e.editedItem.name},on:{click:e.save}},[e._v(" save ")])],1)],1)],1),t(v.Z,{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(f.Z,[t(g.EB,{staticClass:"text-h5"},[e._v("Are you sure to delete this small block")]),t(g.h7,[t(Z.Z),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("cancel")]),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("sure")]),t(Z.Z)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function({item:a}){return[t(x.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-pencil ")]),t(x.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" mdi-delete ")]),t(x.Z,{attrs:{small:""},on:{click:function(t){return e.navigateTo({name:"manageData",params:{smallBlockId:a.id}})}}},[e._v(" mdi-eye ")])]}},{key:"no-data",fn:function(){return[t("p",{staticClass:"ma-3"},[e._v("You haven't add any data")]),t("p",{staticClass:"ma-3"},[e._v("If you add, click the reset button")]),t(p.Z,{staticClass:"mb-3",attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}])})],1)},At=[],jt={data:()=>({blockId:0,search:"",required:e=>!!e||"Required.",dialog:!1,dialogDelete:!1,headers:[{text:"id",align:"start",sortable:!1,value:"id"},{text:"name",align:"start",sortable:!1,value:"name"},{text:"func",value:"actions",sortable:!1}],block:"",smallBlocks:[],editedIndex:-1,editedItem:{name:""},defaultItem:{name:""}}),computed:{formTitle(){return-1===this.editedIndex?"Add small block":"Edit small block"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.$loading(!0),this.initialize(),this.$loading(!1)},methods:{filterOnlyCapsText(e,t,a){return null!=e&&null!=t&&"string"===typeof e&&-1!==e.toString().indexOf(t)},navigateTo(e){this.$router.push(e)},async initialize(){},editItem(e){this.editedIndex=this.smallBlocks.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.editedIndex=this.smallBlocks.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},async deleteItemConfirm(){try{await Xe["delete"](this.editedItem),this.closeDelete(),window.location.reload()}catch(e){console.log(e)}},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},async save(){if(this.$loading(!0),this.editedIndex>-1)try{await Xe.put(this.editedItem),window.location.reload()}catch(e){console.log(e)}else try{let e=this.editedItem;e.blockId=this.blockId,await Xe.post(e),window.location.reload()}catch(e){console.log(e)}this.close(),this.$loading(!1)}}},St=jt,Et=(0,c.Z)(St,Ot,At,!1,null,null,null),zt=Et.exports,Rt=function(){var e=this,t=e._self._c;return t(f.Z,[t(ot.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.sensors,"items-per-page":-1,"item-key":"id",search:e.search,"custom-filter":e.filterOnlyCapsText},scopedSlots:e._u([{key:"top",fn:function(){return[t(nt.Z,{attrs:{flat:""}},[t(Me.qW,[e._v("All Sensor Data")]),t(k.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(Z.Z),t(v.Z,{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(p.Z,e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",s,!1),a),[e._v(" Add sensor ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(f.Z,[t(g.EB,[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),t(g.ZB,[t(ue.Z,[t(pe.Z,[t(fe.Z,{attrs:{label:"sensor type",rules:[e.required]},model:{value:e.editedItem.type,callback:function(t){e.$set(e.editedItem,"type",t)},expression:"editedItem.type"}})],1)],1)],1),t(g.h7,[t(Z.Z),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" cancel ")]),t(p.Z,{attrs:{color:"blue darken-1",text:"",disabled:""==e.editedItem.name},on:{click:e.save}},[e._v(" save ")])],1)],1)],1),t(v.Z,{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(f.Z,[t(g.EB,{staticClass:"text-h5"},[e._v("Are you sure to delete this sensor")]),t(g.h7,[t(Z.Z),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("cancel")]),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("sure")]),t(Z.Z)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function({item:a}){return[t(x.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-pencil ")]),t(x.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[t("p",{staticClass:"ma-3"},[e._v("You haven't add any data")]),t("p",{staticClass:"ma-3"},[e._v("If you add, click the reset button")]),t(p.Z,{staticClass:"mb-3",attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}])})],1)},Vt=[];const Lt="sensors/";var qt={index(){return U().get(`${Lt}allSensors`)},post(e){return U().post(`${Lt}addSensor`,e)},get(e){return U().get(`${Lt}${e}`)},put(e){return U().put(`${Lt}${e.id}`,e)},delete(e){return U().delete(`${Lt}${e.id}`)}},Pt={data:()=>({search:"",required:e=>!!e||"Required.",dialog:!1,dialogDelete:!1,headers:[{text:"id",align:"start",sortable:!1,value:"id"},{text:"type",align:"start",sortable:!1,value:"type"},{text:"func",value:"actions",sortable:!1}],sensors:[],editedIndex:-1,editedItem:{type:""},defaultItem:{type:""}}),computed:{formTitle(){return-1===this.editedIndex?"Add sensor":"Edit sensor"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.$loading(!0),this.initialize(),this.$loading(!1)},methods:{filterOnlyCapsText(e,t,a){return null!=e&&null!=t&&"string"===typeof e&&-1!==e.toString().indexOf(t)},navigateTo(e){this.$router.push(e)},async initialize(){this.sensors=(await qt.index()).data,console.log(this.sensors)},editItem(e){this.editedIndex=this.sensors.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.editedIndex=this.sensors.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},async deleteItemConfirm(){try{await qt["delete"](this.editedItem),this.closeDelete(),window.location.reload()}catch(e){console.log(e)}},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},async save(){if(this.$loading(!0),this.editedIndex>-1)try{await qt.put(this.editedItem),this.initialize()}catch(e){console.log(e)}else try{await qt.post(this.editedItem),this.initialize()}catch(e){console.log(e)}this.close(),this.$loading(!1)}}},Ht=Pt,Ut=(0,c.Z)(Ht,Rt,Vt,!1,null,null,null),Mt=Ut.exports,Ft={components:{ManageBlock:Tt,ManageSmallBlock:zt,ManageSensor:Mt},data:()=>({blocks:[]}),computed:{},watch:{},created(){this.$loading(!0),this.initialize(),this.$loading(!1)},methods:{async initialize(){const e=this.$store.state.route.params.farmId,t=(await F.get(e)).data;this.$refs.manageBlock.blocks=t.blocks,this.$refs.manageBlock.farmId=e,this.blocks=t.blocks}}},Kt=Ft,Nt=(0,c.Z)(Kt,bt,Zt,!1,null,null,null),Qt=Nt.exports,Yt=function(){var e=this,t=e._self._c;return t(f.Z,[t(p.Z,{attrs:{color:"primary",text:"",to:{name:"manage"}}},[e._v(" manage ")]),t("HealthDataComponent",{ref:"health"}),t("HumidityDataComponent",{ref:"humidity"}),t("TemperatureDataComponent",{ref:"temperature"})],1)},Xt=[],Gt=function(){var e=this,t=e._self._c;return t(f.Z,[t(ot.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.healthDatas,"items-per-page":10,"item-key":"id",search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[t(nt.Z,{attrs:{flat:""}},[t(Me.qW,[e._v("Health Data In "+e._s(e.smallBlock))]),t(k.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(Z.Z),t(v.Z,{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(p.Z,e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",s,!1),a),[e._v(" Add health data ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(f.Z,[t(g.EB,[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),t(g.ZB,[t(ue.Z,[t(pe.Z,[t(fe.Z,{attrs:{label:"health",rules:[e.required]},model:{value:e.editedItem.value,callback:function(t){e.$set(e.editedItem,"value",t)},expression:"editedItem.value"}})],1)],1)],1),t(g.h7,[t(Z.Z),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" cancel ")]),t(p.Z,{attrs:{color:"blue darken-1",text:"",disabled:""==e.editedItem.value},on:{click:e.save}},[e._v(" save ")])],1)],1)],1),t(v.Z,{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(f.Z,[t(g.EB,{staticClass:"text-h5"},[e._v("Are you sure to delete this health data")]),t(g.h7,[t(Z.Z),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("cancel")]),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("sure")]),t(Z.Z)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function({item:a}){return[t(x.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-pencil ")]),t(x.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[t("p",{staticClass:"ma-3"},[e._v("You haven't add any data")]),t("p",{staticClass:"ma-3"},[e._v("If you add, click the reset button")]),t(p.Z,{staticClass:"mb-3",attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}])})],1)},Wt=[];const Jt="healthDatas/";var ea={index(){return U().get(`${Jt}allHealthDatas`)},post(e){return U().post(`${Jt}addHealthData`,e)},get(e){return U().get(`${Jt}${e}`)},put(e){return U().put(`${Jt}${e.id}`,e)},delete(e){return U().delete(`${Jt}${e.id}`)}},ta={data:()=>({smallBlockId:0,search:"",required:e=>!!e||"Required.",dialog:!1,dialogDelete:!1,headers:[{text:"id",align:"start",sortable:!1,value:"id"},{text:"createdAt",align:"start",sortable:!1,value:"createdAt"},{text:"value",align:"start",sortable:!1,value:"value"},{text:"sensorId",align:"start",sortable:!1,value:"sensorId"},{text:"func",value:"actions",sortable:!1}],smallBlock:"",healthDatas:[],editedIndex:-1,editedItem:{value:""},defaultItem:{value:""}}),computed:{formTitle(){return-1===this.editedIndex?"Add health data":"Edit health data"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.$loading(!0),this.initialize(),this.$loading(!1)},methods:{navigateTo(e){this.$router.push(e)},async initialize(){},editItem(e){this.editedIndex=this.healthDatas.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.editedIndex=this.healthDatas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},async deleteItemConfirm(){try{await ea["delete"](this.editedItem),this.closeDelete(),window.location.reload()}catch(e){console.log(e)}},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},async save(){if(this.$loading(!0),this.editedIndex>-1)try{await ea.put(this.editedItem),window.location.reload()}catch(e){console.log(e)}else{let t=this.editedItem;t.smallBlockId=this.smallBlockId;try{await ea.post(t),window.location.reload()}catch(e){console.log(e)}}this.close(),this.$loading(!1)}}},aa=ta,sa=(0,c.Z)(aa,Gt,Wt,!1,null,null,null),ia=sa.exports,la=function(){var e=this,t=e._self._c;return t(f.Z,[t(ot.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.humidityDatas,"items-per-page":10,"item-key":"id",search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[t(nt.Z,{attrs:{flat:""}},[t(Me.qW,[e._v("Humidity Data In "+e._s(e.smallBlock))]),t(k.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(Z.Z),t(v.Z,{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(p.Z,e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",s,!1),a),[e._v(" Add humidity data ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(f.Z,[t(g.EB,[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),t(g.ZB,[t(ue.Z,[t(pe.Z,[t(fe.Z,{attrs:{label:"humidity",rules:[e.required]},model:{value:e.editedItem.value,callback:function(t){e.$set(e.editedItem,"value",t)},expression:"editedItem.value"}})],1)],1)],1),t(g.h7,[t(Z.Z),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" cancel ")]),t(p.Z,{attrs:{color:"blue darken-1",text:"",disabled:""==e.editedItem.value},on:{click:e.save}},[e._v(" save ")])],1)],1)],1),t(v.Z,{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(f.Z,[t(g.EB,{staticClass:"text-h5"},[e._v("Are you sure to delete this humidity data")]),t(g.h7,[t(Z.Z),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("cancel")]),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("sure")]),t(Z.Z)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function({item:a}){return[t(x.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-pencil ")]),t(x.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[t("p",{staticClass:"ma-3"},[e._v("You haven't add any data")]),t("p",{staticClass:"ma-3"},[e._v("If you add, click the reset button")]),t(p.Z,{staticClass:"mb-3",attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}])})],1)},ra=[];const oa="humidityDatas/";var na={index(){return U().get(`${oa}allHumidityDatas`)},post(e){return U().post(`${oa}addHumidityData`,e)},get(e){return U().get(`${oa}${e}`)},put(e){return U().put(`${oa}${e.id}`,e)},delete(e){return U().delete(`${oa}${e.id}`)}},da={data:()=>({smallBlockId:0,search:"",required:e=>!!e||"Required.",dialog:!1,dialogDelete:!1,headers:[{text:"id",align:"start",sortable:!1,value:"id"},{text:"createdAt",align:"start",sortable:!1,value:"createdAt"},{text:"value",align:"start",sortable:!1,value:"value"},{text:"sensorId",align:"start",sortable:!1,value:"sensorId"},{text:"func",value:"actions",sortable:!1}],smallBlock:"",humidityDatas:[],editedIndex:-1,editedItem:{value:""},defaultItem:{value:""}}),computed:{formTitle(){return-1===this.editedIndex?"Add humidity data":"Edit humidity data"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.$loading(!0),this.initialize(),this.$loading(!1)},methods:{navigateTo(e){this.$router.push(e)},async initialize(){},editItem(e){this.editedIndex=this.humidityDatas.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.editedIndex=this.humidityDatas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},async deleteItemConfirm(){try{await na["delete"](this.editedItem),this.closeDelete(),window.location.reload()}catch(e){console.log(e)}},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},async save(){if(this.$loading(!0),this.editedIndex>-1)try{await na.put(this.editedItem),window.location.reload()}catch(e){console.log(e)}else{let t=this.editedItem;t.smallBlockId=this.smallBlockId;try{await na.post(t),window.location.reload()}catch(e){console.log(e)}}this.close(),this.$loading(!1)}}},ca=da,ua=(0,c.Z)(ca,la,ra,!1,null,null,null),ma=ua.exports,ha=function(){var e=this,t=e._self._c;return t(f.Z,[t(ot.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.temperatureDatas,"items-per-page":10,"item-key":"id",search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[t(nt.Z,{attrs:{flat:""}},[t(Me.qW,[e._v("Temperature Data In "+e._s(e.smallBlock))]),t(k.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(Z.Z),t(v.Z,{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(p.Z,e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",s,!1),a),[e._v(" Add temperature data ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(f.Z,[t(g.EB,[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),t(g.ZB,[t(ue.Z,[t(pe.Z,[t(fe.Z,{attrs:{label:"temperature",rules:[e.required]},model:{value:e.editedItem.value,callback:function(t){e.$set(e.editedItem,"value",t)},expression:"editedItem.value"}})],1)],1)],1),t(g.h7,[t(Z.Z),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" cancel ")]),t(p.Z,{attrs:{color:"blue darken-1",text:"",disabled:""==e.editedItem.value},on:{click:e.save}},[e._v(" save ")])],1)],1)],1),t(v.Z,{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(f.Z,[t(g.EB,{staticClass:"text-h5"},[e._v("Are you sure to delete this temperature data")]),t(g.h7,[t(Z.Z),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("cancel")]),t(p.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("sure")]),t(Z.Z)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function({item:a}){return[t(x.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-pencil ")]),t(x.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[t("p",{staticClass:"ma-3"},[e._v("You haven't add any data")]),t("p",{staticClass:"ma-3"},[e._v("If you add, click the reset button")]),t(p.Z,{staticClass:"mb-3",attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}])})],1)},pa=[];const fa="temperatureDatas/";var ga={index(){return U().get(`${fa}allTemperatureDatas`)},post(e){return U().post(`${fa}addTemperatureData`,e)},get(e){return U().get(`${fa}${e}`)},put(e){return U().put(`${fa}${e.id}`,e)},delete(e){return U().delete(`${fa}${e.id}`)}},va={data:()=>({smallBlockId:0,search:"",required:e=>!!e||"Required.",dialog:!1,dialogDelete:!1,headers:[{text:"id",align:"start",sortable:!1,value:"id"},{text:"createdAt",align:"start",sortable:!1,value:"createdAt"},{text:"value",align:"start",sortable:!1,value:"value"},{text:"sensorId",align:"start",sortable:!1,value:"sensorId"},{text:"func",value:"actions",sortable:!1}],smallBlock:"",temperatureDatas:[],editedIndex:-1,editedItem:{value:""},defaultItem:{value:""}}),computed:{formTitle(){return-1===this.editedIndex?"Add temperature data":"Edit temperature data"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.$loading(!0),this.initialize(),this.$loading(!1)},methods:{navigateTo(e){this.$router.push(e)},async initialize(){},editItem(e){this.editedIndex=this.temperatureDatas.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.editedIndex=this.temperatureDatas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},async deleteItemConfirm(){try{await ga["delete"](this.editedItem),this.closeDelete(),window.location.reload()}catch(e){console.log(e)}},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},async save(){if(this.$loading(!0),this.editedIndex>-1)try{await ga.put(this.editedItem),window.location.reload()}catch(e){console.log(e)}else{let t=this.editedItem;t.smallBlockId=this.smallBlockId;try{await ga.post(t),window.location.reload()}catch(e){console.log(e)}}this.close(),this.$loading(!1)}}},ka=va,xa=(0,c.Z)(ka,ha,pa,!1,null,null,null),Ia=xa.exports,ba={components:{HealthDataComponent:ia,HumidityDataComponent:ma,TemperatureDataComponent:Ia},data:()=>({blocks:[],smallBlock:{}}),computed:{},watch:{},created(){this.$loading(!0),this.initialize(),this.$loading(!1)},methods:{async initialize(){const e=this.$store.state.route.params.smallBlockId;this.smallBlock=(await Xe.get(e)).data,this.$refs.health.smallBlockId=this.smallBlock.id,this.$refs.health.smallBlock=this.smallBlock.name,this.$refs.health.healthDatas=this.smallBlock.healthDatas,this.$refs.humidity.smallBlockId=this.smallBlock.id,this.$refs.humidity.smallBlock=this.smallBlock.name,this.$refs.humidity.humidityDatas=this.smallBlock.humidityDatas,this.$refs.temperature.smallBlockId=this.smallBlock.id,this.$refs.temperature.smallBlock=this.smallBlock.name,this.$refs.temperature.temperatureDatas=this.smallBlock.temperatureDatas}}},Za=ba,ya=(0,c.Z)(Za,Yt,Xt,!1,null,null,null),wa=ya.exports;s.ZP.use(h.ZP);const _a=[{path:"/",name:"indexView",component:Pe},{path:"/home",name:"homeView",component:G},{path:"/plant",name:"plantView",component:de},{path:"/account",name:"accountView",component:ye},{path:"/note",name:"noteView",component:Be},{path:"/login",name:"loginView",component:Ee},{path:"/sp/:smallBlockId",name:"SP",component:et},{path:"/test",name:"test",component:rt},{path:"/manage",name:"manage",component:It},{path:"/manage/:farmId",name:"manageDetail",component:Qt},{path:"/managedata/:smallBlockId",name:"manageData",component:wa}],Ca=new h.ZP({mode:"hash",base:"/",routes:_a});var Da=Ca,$a=a(3678),Ba=a(928),Ta=a(8103);s.ZP.use(Ba.Z);var Oa=new Ba.Z({theme:{themes:{light:{primary:Ta.Z.green.darken2,secondary:Ta.Z.red.lighten4,accent:Ta.Z.indigo.base}}}}),Aa=a(4850);s.ZP.use(Aa.Z),s.ZP.config.productionTip=!1,(0,$a.Z)(H,Da),new s.ZP({router:Da,store:H,vuetify:Oa,render:e=>e(m)}).$mount("#app")},5923:function(e,t,a){e.exports=a.p+"img/weather.svg"},8041:function(e,t,a){e.exports=a.p+"img/farm.4714987c.png"},385:function(e,t,a){e.exports=a.p+"img/farmer.4714987c.png"},6949:function(e,t,a){e.exports=a.p+"img/logo.4417d692.png"}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var l=t[s]={exports:{}};return e[s].call(l.exports,l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,s,i,l){if(!s){var r=1/0;for(c=0;c<e.length;c++){s=e[c][0],i=e[c][1],l=e[c][2];for(var o=!0,n=0;n<s.length;n++)(!1&l||r>=l)&&Object.keys(a.O).every((function(e){return a.O[e](s[n])}))?s.splice(n--,1):(o=!1,l<r&&(r=l));if(o){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[s,i,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,l,r=s[0],o=s[1],n=s[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(n)var c=n(a)}for(t&&t(s);d<r.length;d++)l=r[d],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(c)},s=self["webpackChunk_"]=self["webpackChunk_"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(754)}));s=a.O(s)})();
//# sourceMappingURL=app.b7180b39.js.map